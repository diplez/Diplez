<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">    
    <f:ajax event="click" render="@all" delay="10"  resetValues="true">        
        <h:form id="form1">               
            <p:dataTable id="dataTable" var="cliente" value="#{clienteController.listaEmpleados}" 
                         emptyMessage="No hay ningun Registro" paginator="true" rows="7">            
                <f:facet name="header">
                    Clientes
                </f:facet>                                        

                <p:column id="modelColumn2" filterBy="#{cliente.nombre}"   
                          headerText="Nombre" 
                          filterMatchMode="contains">  
                    <h:outputText value="#{cliente.nombre}" />  
                </p:column>                  

                <p:column id="modelColumn3" filterBy="#{cliente.apellido}"   
                          headerText="Apellido" 
                          filterMatchMode="contains">  
                    <h:outputText value="#{cliente.apellido}" />  
                </p:column>                  

                <p:column id="modelColumn4" filterBy="#{cliente.direccion}"   
                          headerText="DirecciÃ³n" 
                          filterMatchMode="contains">                  
                    <h:outputText value="#{cliente.direccion}" />  
                </p:column>                                                                          

                <p:column id="modelColumn10" 
                          headerText="Ultima LLamada" 
                          >  
                    <h:outputText value="#{cliente.llamada.fechaFormateada}" />  
                </p:column>                                                                                    

                <p:column id="modelColumn9" style="text-align: center"
                          headerText="Asignar"                                       
                          >  
                    <p:commandButton title="LLamada" action="#{llamadaBean.agregarLLamada(cliente.id)}" style="border-radius: 50%;" value="+"/>
                </p:column>

                <p:column id="modelColumn11" style="text-align: center"
                          headerText="Unidad"                                       
                          >  
                    <h:outputText value="#{cliente.asignacion==0?'Solicitando':cliente.asignacion==1?'Asignado':'Usuario'}" style="background: #{cliente.asignacion==0?'Red':cliente.asignacion==1?'green':'blue'}; border-radius: 10px;color: white;padding: 5px;"></h:outputText>
                    <!--<a href="#modal" id="modal">+</a>-->
                </p:column>
            </p:dataTable>                                   
        </h:form>            
    </f:ajax>        
    <a  href="http://localhost:8084/RadTaxJVWeb/faces/cliente/agregar.xhtml" title="Nuevo Cliente" class="btn btn-block">Nuevo Cliente</a>    
</ui:composition>
